# Noise Reduction Techniques

- [Noise Reduction Techniques - ChatGPT](https://chat.openai.com/share/3d4c76cf-a156-4775-aa9f-be100a6f2c41)

I'm using a raspberry pi pico. I'm having a problem where when i turn on a fan which is connected to the same outlet as the pico, the pico acts funny like it is getting signal noise from the fan starting. What can I add to the raspberry pi pico's GPIO pins to reduce this disturbance? Will a capacitor help?

It sounds like the issue you're experiencing is related to electrical noise or a transient voltage spike from the fan motor when it starts up. This kind of noise can indeed affect sensitive electronics like a Raspberry Pi Pico, especially if they're connected to the same power source. Here are a few strategies you can employ to reduce the disturbance:

### 1. Capacitor for Noise Filtering

Adding a capacitor across the power supply lines (Vcc and GND) near the Raspberry Pi Pico can help filter out noise. Capacitors can smooth out voltage fluctuations due to their ability to store and release electrical energy quickly. A combination of capacitors is often used:

- **Bulk Capacitor (e.g., 10µF to 100µF):** Helps smooth out slower voltage changes.
- **Ceramic Capacitor (e.g., 0.1µF or 100nF):** Effective for filtering high-frequency noise.

The exact values might depend on the nature of your setup and the level of noise. Start with these standard values and adjust if necessary.

### 2. Ferrite Bead for High-Frequency Noise Suppression

A ferrite bead on the power line to the Pico can absorb high-frequency noise, preventing it from reaching the Pico. Ferrite beads are particularly effective against high-frequency noise and are commonly used in conjunction with capacitors for a more comprehensive filtering approach.

### 3. Opto-isolation for GPIO Pins

If the fan is controlled by one of the Pico's GPIO pins, consider using an opto-isolator (optocoupler) between the Pico and the fan's control circuit. This provides electrical isolation between the Pico and the fan, significantly reducing the risk of noise and spikes affecting the Pico.

### 4. Use of a Snubber Circuit

A snubber circuit across the fan motor or the relay driving the fan (if applicable) can suppress the voltage spikes caused by the inductive load when it's switched on or off. A snubber usually consists of a resistor and a capacitor in series, designed to absorb and dissipate the energy of the voltage spike.

### 5. Separate Power Supplies

If feasible, consider powering the Raspberry Pi Pico from a separate power supply or through a USB power bank. This isolation can help prevent noise from the fan motor from affecting the Pico's power line.

### Implementation

- **Capacitors and Ferrite Beads:** These can be directly added to your circuit with minimal disruption. Start with standard values and adjust based on results.
- **Opto-isolation:** Requires some circuit redesign to include the opto-isolator, but provides a high degree of noise immunity.
- **Snubber Circuit:** Best used if you have access to the fan's power circuit and can safely add components.

Experiment with these solutions based on your specific needs and the severity of the noise issue. You might find a combination of these methods provides the best results.

The fan is not controlled by the pico and it is not directly connected. The fan just happens to be plugged into the same power strip as the pico.

Given the fan and the Raspberry Pi Pico are sharing the same power strip but are not electrically connected in your project, the disturbance you're observing likely stems from electrical noise or voltage spikes generated by the fan's motor at power-up. These disturbances can travel through the power strip and affect sensitive devices connected to it, like your Pico. Here are revised recommendations to mitigate this issue:

### 1. Use of Decoupling Capacitors

Adding decoupling capacitors directly across the Pico's power input (Vcc and GND) can help filter out the noise. Use a combination of:

- **Bulk Capacitor:** A larger electrolytic capacitor (e.g., 10µF to 100µF) can help manage lower-frequency fluctuations.
- **Ceramic Capacitor:** A smaller ceramic capacitor (e.g., 0.1µF or 100nF) placed as close as possible to the Pico's power pins to filter out higher-frequency noise.

This approach helps stabilize the power supply to the Pico by providing a short-term buffer against voltage drops and smoothing out unwanted noise.

### 2. Power Supply Isolation

If practical, powering the Pico independently from the fan can effectively eliminate the problem. Options include:

- **Dedicated Power Strip or Outlet:** Use a separate power strip or outlet for the Pico, ideally one with built-in surge protection and noise filtering capabilities.
- **USB Power Bank or Dedicated Power Supply:** Powering the Pico through a USB power bank or a dedicated power supply unit (PSU) can provide a clean and stable power source, isolating it from disturbances caused by other devices on the power network.

### 3. Surge Protector or Power Conditioner

Using a high-quality surge protector or power conditioner for the power strip can help suppress electrical spikes and filter out noise. Some surge protectors are specifically designed to reduce electronic interference among devices plugged into them.

### 4. Adding an External Noise Filter

Consider adding an external noise filter between the power strip and the Pico's power input. These filters are designed to attenuate electrical noise in the power line, providing a cleaner supply to sensitive electronics.

### Implementation Notes

- **Decoupling Capacitors:** This is a straightforward and cost-effective first step that can be implemented directly on the Pico or on a breadboard.
- **Independent Power Sources:** Provides the most isolation but may not be convenient in all setups.
- **Surge Protectors and Power Conditioners:** These can offer broader benefits to all devices connected, protecting against voltage spikes and reducing noise.

Combining these strategies can offer the best protection against the observed disturbances. Start with the simpler solutions, like adding capacitors and using a surge protector, and consider more comprehensive measures if the issue persists.

The pico has it's own micro-USB power supply with integrated switch.

Given that your Raspberry Pi Pico already has its own micro-USB power supply with an integrated switch, and assuming this setup is still experiencing disturbances from the fan via the shared power strip, your options for mitigation focus more on enhancing the stability and cleanliness of the power directly feeding the Pico. Here’s a refined approach based on this setup:

### 1. Enhance Power Stability at the Pico

Since you're using a dedicated power supply for the Pico:

- **Decoupling Capacitors:** Add a combination of bulk and ceramic capacitors directly at the Pico's power input lines. This will help buffer any quick fluctuations in power caused by noise or transient spikes from the fan. A common configuration is a 10µF electrolytic capacitor in parallel with a 0.1µF ceramic capacitor, placed as close as possible to the Pico's power input.

### 2. Improve Power Strip Quality

- **Upgrade Power Strip:** Consider upgrading to a power strip with better surge protection and built-in noise filtering. Some power strips are designed specifically for sensitive electronics, incorporating features to mitigate electrical noise and transients from motors or other inductive loads.

### 3. Use a USB Power Filter

- **USB Power Filter:** There are USB power filters available that can be plugged in between the micro-USB power supply and the Pico. These filters are designed to remove noise from the USB power lines, offering a cleaner power supply to sensitive devices.

### 4. Consider an Isolated Power Supply

- **Isolated Power Supply:** If the issue persists, consider using an isolated power supply for the Pico. An isolated power supply has no direct electrical connection between its input and output, offering significant protection against noise and spikes coming from the power line.

### 5. Check and Improve Grounding

- **Ground Connections:** Ensure that your power strip and all related equipment are properly grounded. A poor ground connection can exacerbate issues with electrical noise and spikes.

### Implementing Solutions

Start by implementing decoupling capacitors, as it’s a straightforward and cost-effective measure. Then assess the situation; if disturbances continue, step through the solutions in order, evaluating the effectiveness at each stage before moving on to more complex or costly solutions.

It’s also worth revisiting the setup of your workspace to ensure that the Pico’s power supply is as isolated as possible from high-current devices like motors, which are common sources of electrical noise and spikes.
